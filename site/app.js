var app = angular.module("PL0InfiniteUI", ['ui.codemirror', 'ui.bootstrap']);

app.config(['$compileProvider',
function ($compileProvider) {
    $compileProvider.imgSrcSanitizationWhitelist(/^\s*(https?|blob|local|data):/);
}]);

app.constant("PL0Infinite", PL0Infinite);
app.constant("fn", fn);
app.constant("win32_encoded_header", "TVpgAQEAAAAEAAAA//8AAGABAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAA4fug4AtAnNIbgBTM0hVGhpcyBwcm9ncmFtIGlzIGEgV2luMzIgY29uc29sZSBhcHBsaWNhdGlvbi4gSXQgY2Fubm90IGJlIHJ1biB1bmRlciBNUy1ET1MuDQokAAAAAFBFAABMAQEAAABTTAAAAAAAAAAA4AACAQsBAQAABgAAAAAAAAAAAAAAFQAAABAAAAAgAAAAAEAAABAAAAACAAAEAAAAAAAAAAQAAAAAAAAAACAAAAACAAAAAAAAAwAAAAAAEAAAEAAAAAAQAAAQAAAAAAAAEAAAAAAAAAAAAAAAHBAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALnRleHQAAAAyBQAAABAAAAAGAAAAAgAAAAAAAAAAAAAAAAAAIAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABuEAAAfBAAAIwQAACYEAAApBAAALYQAAAAAAAAUhAAAAAAAAAAAAAARBAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEtFUk5FTDMyLmRsbAAAbhAAAHwQAACMEAAAmBAAAKQQAAC2EAAAAAAAAAAARXhpdFByb2Nlc3MAAABHZXRTdGRIYW5kbGUAAAAAUmVhZEZpbGUAAAAAV3JpdGVGaWxlAAAAR2V0Q29uc29sZU1vZGUAAAAAU2V0Q29uc29sZU1vZGUAAAAAAAAAAAAAUKIcEUAAMcADBSwRQAB1DWr1/xUEEEAAoywRQABqAGgwEUAAagFoHBFAAFD/FQwQQAAJwHUIagD/FQAQQACBPTARQAABAAAAdexYwwBXcml0ZSBlcnJvcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGAxwAMFzBFAAHU3avb/FQQQQACjzBFAAGjQEUAAUP8VEBBAAIAl0BFAAPn/NdARQAD/NcwRQAD/FRQQQAChzBFAAGoAaNQRQABqAWi+EUAAUP8VCBBAAAnAYZB1CGoA/xUAEEAAD7YFvhFAAIE91BFAAAEAAAB0Bbj/////wwBSZWFkIGVycm9yAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgicYwwAIGdAhG6OH+///r8mGQwwAAAAAAAAAAAAAAAAQw6Mn+///DAAAAAAAAAACwDei5/v//sArosv7//8MAPQAAAIB1TrAt6KL+//+wAujL////sAHoxP///7AE6L3///+wB+i2////sATor////7AI6Kj///+wA+ih////sAbomv///7AE6JP///+wCOiM////wz0AAAAAfQtQsC3oTP7//1j32D0KAAAAD4zvAAAAPWQAAAAPjNEAAAA96AMAAA+MswAAAD0QJwAAD4yVAAAAPaCGAQB8ez1AQg8AfGE9gJaYAHxHPQDh9QV8LT0Aypo7fBO6AAAAALsAypo79/tS6Bj///9YugAAAAC7AOH1Bff7UugF////WLoAAAAAu4CWmAD3+1Lo8v7//1i6AAAAALtAQg8A9/tS6N/+//9YugAAAAC7oIYBAPf7UujM/v//WLoAAAAAuxAnAAD3+1Louf7//1i6AAAAALvoAwAA9/tS6Kb+//9YugAAAAC7ZAAAAPf7UuiT/v//WLoAAAAAuwoAAAD3+1LogP7//1joev7//8MA/xUAEEAAAAC5AAAAALMDUVPoov3//1tZPA0PhDQBAAA8CA+ElAAAADwtD4QJAQAAPDB82zw5f9csMID7AHTQgPsCdQyB+QAAAAB1BDwAdL+A+wN1CjwAdQSzAOsCswGB+czMzAx/qIH5NDMz83ygiMe4CgAAAPfpPQgAAIB0ET34//9/dROA/wd+Dul/////gP8ID492////uQAAAACI+YD7AnQEAcHrAynIkYj4UVPow/3//1tZ6VP///+A+wMPhEr///9RU7AI6Hr8//+wIOhz/P//sAjobPz//1tZgPsAdQezA+kl////gPsCdQ+B+QAAAAB1B7MD6RH///+JyLkKAAAAugAAAAA9AAAAAH0I99j3+ffY6wL3+YnBgfkAAAAAD4Xm/v//gPsCD4Td/v//swPp1v7//4D7Aw+Fzf7//7AtUVPo/fv//1tZswLpu/7//4D7Aw+Esv7//4D7AnUMgfkAAAAAD4Sh/v//UegU/f//WYnIww==");
app.constant("win32_symbols", {
    base: 0x00401500,
    baseSectionSize: 0x500,
    symbols: {
      readln: 0x00401390,
      write: 0x00401220,
      writeenter: 0x00401210,
      writestring: 0x004011e0,
      exit: 0x00401388
    }
});

app.constant("sources", {
  "bien-00.pl0": "var X, Y; \nprocedure INICIAR; \n  const Y = 2; \n  procedure ASIGNAR; \n    X := Y; \n  call ASIGNAR; \n\nbegin \n  write ('NUM='); readln (Y); \n  call INICIAR; \n  writeln ('NUM*2=',Y*X) \nend.",
  "bien-01.pl0": "VAR BASE, EXPO, RESU;\n\nPROCEDURE POT;\nIF EXPO > 0 THEN\n   BEGIN\n        RESU := RESU * BASE;\n        EXPO := EXPO - 1;\n        CALL POT\n   END;\n\nBEGIN\n     WRITE ('BASE: '); READLN(BASE);\n     WRITE ('EXPONENTE: '); READLN(EXPO);\n     RESU := 1;\n     CALL POT;\n     IF EXPO < 0 THEN RESU := 0;\n     WRITELN ('RESULTADO: ', RESU);\n     WRITELN\nEND.",
  "bien-02.pl0": "var X, Y, Z;\n\nprocedure MULTIPLICAR;\nvar A, B;\nbegin\n     A := X;\n     B := Y;\n     Z := 0;\n     if X < 0 then A := -A;\n     if Y < 0 then B := -B;\n     while B > 0 do\n         begin\n           if odd B then Z:= Z + A;\n           A := A * 2;\n           B := B / 2\n         end;\n     if X < 0 then Z:= -Z;\n     if Y < 0 then Z:= -Z\nend;\n\nBegin\n     write ('X: '); readLn (X);\n     write ('Y: '); readLn (Y);\n     call MULTIPLICAR;\n     writeLn ('X*Y=', Z);\nend.",
  "bien-03.pl0": "var X, Y, Q, R;\n\nprocedure DIVIDIR;\nvar V, W;\nbegin\n  Q := 0;\n  R := X; if R < 0 then R := -R;\n  W := Y; if W < 0 then W := -W;\n  V := Y; if V < 0 then V:= -V;\n  while W <= R do W := W * 2;\n  while W > V do\n    begin\n      Q := Q * 2; W := W / 2;\n      if W <= R then\n        begin\n          R := R - W; Q := Q + 1\n        end\n    end;\n  if X < 0 then R:= -R;\n  if X < 0 then Q:= -Q;\n  if Y < 0 then Q:= -Q;\nend;\n\nprocedure OTRO;\n  procedure DIVIDIR;\n  begin\n    Q := X / Y; R := X - Y * Q\n  end;\ncall DIVIDIR;\n\nprocedure SALIDA;\nbegin\n  write ('Cociente: ', Q); writeln;\n  write ('Resto: ', R); writeln;\nend;\n\nbegin\n  write ('Dividendo: '); readln (X);\n  write ('Divisor: '); readln (Y);\n  writeln;\n  if Y <> 0 then\n    begin\n      write ('Metodo 1'); writeln;\n      call DIVIDIR;\n      call SALIDA; writeln;\n      write ('Metodo 2'); writeln;\n      call OTRO;\n      call SALIDA;\n    end\nend.\n.",
  "bien-04.pl0": "var X, Y, Z;\n\nprocedure MCD;\nvar F,G;\nbegin\n  F := X; G := Y;\n  while F <> G do\n    begin\n      if F < G then  G := G - F;\n      IF G < F then  F := F - G\n    end;\n  Z:= F\nend;\n\nbegin\n  write ('X: '); readln (X);\n  if X > 0 then\n    begin\n      write ('Y: '); readln (Y);\n      if Y > 0 then\n        begin\n          call MCD;\n          writeln ('MCD: ', Z); writeln\n        end\n    end\nend.\n",
  "bien-05.pl0": "VAR R, N;\n\nPROCEDURE INICIALIZAR;\nCONST UNO = 1;\nR := -(-UNO);\n\nPROCEDURE RAIZ;\nBEGIN\n  CALL INICIALIZAR;\n  WHILE R * R < N DO R := R + 1\nEND;\n\nBEGIN\n  WRITE ('N: '); READLN (N);\n  WRITE ('RAIZ CUADRADA DE ', N, ': ');\n  IF N < 0 THEN WRITE ('ERROR');\n  IF N = 0 THEN WRITE (0);\n  IF N > 0 THEN\n    BEGIN\n      CALL RAIZ;\n      IF R*R<>N THEN WRITE (R - 1, '..');\n      WRITE (R);\n    END;\n  WRITELN\nEND.",
  "bien-06.pl0": "var IMPORTE, BILLETE, VUELTO, PESOS, CENTAVOS, VUELTOPESOS, VUELTOCENTAVOS,\n    IMPORTEOK, CENTAVOSOK, PESOSOK, BILLETEOK, VUELTOOK;\n\nprocedure ERROR;\nbegin\n  writeln ('VALOR FUERA DE RANGO!')\nend;\n\nbegin\n  WRITELN ('*******************************************');\n  writeLn ('VUELTO PARA IMPORTES PAGADOS CON UN BILLETE');\n  WRITELN ('*******************************************');\n  writeln;\n  IMPORTEOK := -1;\n  while IMPORTEOK <> 0 do\n    begin\n      writeln ('IMPORTE (min $0.01 y max $100.00)');\n      CENTAVOSOK := -1;\n      while CENTAVOSOK <> 0 do\n        begin\n          write ('CENTAVOS: '); readLn (CENTAVOS);\n          CENTAVOSOK := 0;\n          if CENTAVOS < 0 then CENTAVOSOK := -1;\n          if CENTAVOS > 99 then CENTAVOSOK := -1;\n          if CENTAVOSOK <> 0 then call ERROR\n        end;\n      PESOSOK := -1;\n      while PESOSOK <> 0 do\n        begin\n          write ('PESOS: '); readLn (PESOS);\n          PESOSOK := 0;\n          if PESOS < 0 then PESOSOK := -1;\n          if PESOS > 100 then PESOSOK := -1;\n          if PESOSOK <> 0 then call ERROR\n       end;\n      write ('IMPORTE: $', PESOS, '.');\n      if CENTAVOS < 10 then write ('0');\n      writeLn (CENTAVOS);\n      IMPORTE := PESOS * 100 + CENTAVOS;\n      IMPORTEOK := 0;\n      if IMPORTE < 1 then IMPORTEOK := -1;\n      if IMPORTE > 10000 then IMPORTEOK := -1;\n      if IMPORTEOK <> 0 then call ERROR\n    end;\n\n  VUELTOOK := -1;\n  while VUELTOOK <> 0 do\n    begin\n      BILLETEOK := -1;\n      while BILLETEOK <> 0 do\n        begin\n          write ('BILLETE (min $2 y max $100): $'); readLn (BILLETE);\n          BILLETEOK := -1;\n          if BILLETE = 2 then BILLETEOK := 0;\n          if BILLETE = 5 then BILLETEOK := 0;\n          if BILLETE = 10 then BILLETEOK := 0;\n          if BILLETE = 20 then BILLETEOK := 0;\n          if BILLETE = 50 then BILLETEOK := 0;\n          if BILLETE = 100 then BILLETEOK := 0;\n          if BILLETEOK <> 0 then writeln ('BILLETE INEXISTENTE!')\n        end;\n      VUELTO := BILLETE * 100 - IMPORTE;\n      VUELTOOK := 0;\n      if VUELTO < 0 then\n        begin\n          VUELTOOK := -1;\n          writeLn ('BILLETE INSUFICIENTE PARA EL PAGO!')\n        end\n    end;\n\n  VUELTOPESOS := VUELTO / 100;\n  VUELTOCENTAVOS := VUELTO - VUELTOPESOS * 100;\n\n  write ('Su vuelto: $', VUELTOPESOS, '.');\n  if VUELTOCENTAVOS < 10 then write ('0');\n  writeLn (VUELTOCENTAVOS);\n\n  writeLn;\n\n  if VUELTO >= 5000 then\n    begin\n      writeLn ('1 billete de $50');\n      VUELTO := VUELTO - 5000\n    end;\n\n  if VUELTO >= 2000 then\n    begin\n      if VUELTO / 2000 = 1 then writeLn ('1 billete de $20');\n      if VUELTO / 2000 <> 1 then writeLn ('2 billetes de $20');\n      VUELTO := VUELTO - VUELTO / 2000 * 2000\n    end;\n\n  if VUELTO >= 1000 then\n    begin\n      writeLn ('1 billete de $10');\n      VUELTO := VUELTO - 1000\n    end;\n\n  if VUELTO >= 500 then\n    begin\n      writeLn ('1 billete de $5');\n      VUELTO := VUELTO - 500\n    end;\n\n  if VUELTO >= 200 then\n    begin\n      if VUELTO / 200 = 1 then writeLn ('1 billete de $2');\n      if VUELTO / 200 <> 1 then writeLn ('2 billetes de $2');\n      VUELTO := VUELTO - VUELTO / 200 * 200\n    end;\n\n  if VUELTO >= 100 then\n    begin\n      writeLn ('1 moneda de $1');\n      VUELTO := VUELTO - 100\n    end;\n\n  if VUELTO >= 50 then\n    begin\n      writeLn ('1 moneda de 50 centavos');\n      VUELTO := VUELTO - 50\n    end;\n\n  if VUELTO >= 25 then\n    begin\n      writeLn ('1 moneda de 25 centavos');\n      VUELTO := VUELTO - 25\n    end;\n\n  if VUELTO >= 10 then\n    begin\n      if VUELTO / 10 = 1 then writeLn ('1 moneda de 10 centavos');\n      if VUELTO / 10 <> 1 then writeLn ('2 monedas de 10 centavos');\n      VUELTO := VUELTO - VUELTO / 10 * 10\n    end;\n\n  if VUELTO >= 5 then\n    begin\n      writeLn ('1 moneda de 5 centavos');\n      VUELTO := VUELTO - 5\n    end;\n\n  if VUELTO > 1 then writeLn (VUELTO, ' monedas de 1 centavo');\n  if VUELTO = 1 then writeLn ('1 moneda de 1 centavo')\n\nend.",
  "bien-07.pl0": "CONST N = 20;\n\nVAR A, B, C;\n\nPROCEDURE TRIANGULO;\nVAR A, B;\nBEGIN\n  WRITELN;\n  A := 15;\n  WHILE A > 0 DO\n    BEGIN\n      B := 0;\n      WHILE B < A DO\n        BEGIN\n          WRITE ('*');\n          B := B + 1\n        END;\n      WRITELN;\n      A := A - 1;\n    END\nEND;\n\nBEGIN\n  A := 1;\n  WHILE A <= N DO\n    BEGIN\n      WRITE (A, ' ');\n      A := A + 1\n    END;\n\n  CALL TRIANGULO;\n\n  B := -N;\n  C := 0;\n  WHILE B < C DO\n    BEGIN\n      WRITE (B, ' ');\n      B := B + 1\n    END;\n  WRITELN;\n\nEND.",
  "bien-08.pl0": "var K;\nprocedure P;\n  procedure coma;\n  begin\n    write (',');\n    K := K + 1;\n    call P\n  end;\nbegin\n  if K < 10 then\n    begin\n      write (K);\n      call coma;\n    end\nend;\n\nbegin\n  K := 1;\n  call P;\n  writeln (10)\nend.",
  "bien-09.pl0": "."
});